# گیفتی کارت

افزونه گیفتی کارت ووکامرس را با سرویس Gifticard.ir برای کاربران بین‌المللی یکپارچه می‌کند و امکان ثبت سفارش خودکار گیفت کارت، پیگیری وضعیت و تحویل به مشتری را فراهم می‌سازد.

## امکانات

### پشتیبانی از محصولات ساده و متغیر ووکامرس

- افزونه به طور کامل از مپ کردن محصولات ساده و متغیر ووکامرس (شامل واریانت‌های محصول) به واریانت‌های گیفتی کارت پشتیبانی می‌کند.

### ساخت محصول از واریانت‌های گیفتی کارت

- ساخت محصولات ساده ووکامرس مستقیماً از واریانت‌های گیفتی کارت با تنظیمات سفارشی.
- ساخت محصولات متغیر ووکامرس با چندین واریانت در یک عملیات.
- مپ خودکار محصولات ایجاد شده به واریانت‌های گیفتی کارت.
- قابل تنظیم جزئیات محصول (نام، SKU، قیمت، وضعیت) در حین ایجاد.

### همگام‌سازی قیمت

- همگام‌سازی خودکار قیمت محصولات از API گیفتی کارت بر اساس قیمت واریانت به علاوه حاشیه سود قابل تنظیم.
- تنظیمات حاشیه سود قابل پیکربندی (درصد یا مبلغ ثابت) در تنظیمات محصول.
- کنترل سینک قیمت اختصاصی برای هر محصول/واریانت مپ شده با حاشیه سود سفارشی.
- همگام‌سازی قیمت به طور خودکار در حین همگام‌سازی وضعیت محصول (کرون یا بازدید صفحه) اجرا می‌شود.

### وضعیت اتصال و موجودی لحظه‌ای کیف پول

- مدیران می‌توانند وضعیت اتصال فعلی به API گیفتی کارت را مشاهده کرده و موجودی لحظه‌ای کیف پول گیفتی کارت خود را مستقیماً از داشبورد افزونه ببینند.

### مپ کردن محصولات

- هر محصول یا واریانت ووکامرس را به یک واریانت خاص گیفتی کارت از طریق پنل مدیریت مپ کنید.
- مپ کردن از طریق AJAX مدیریت شده و در فیلدهای متای محصول ذخیره می‌شود، که به شما امکان فروش انواع دقیق گیفت کارت از کاتالوگ ووکامرس را می‌دهد.
- رابط مپ کردن از جستجوی محصولات ووکامرس و اتصال آنها به واریانت‌های گیفتی کارت پشتیبانی می‌کند.

### همگام‌سازی وضعیت محصولات

- به طور خودکار وضعیت موجودی محصولات گیفتی کارت را با وضعیت موجودی ووکامرس همگام‌سازی کنید.
- کنترل سینک موجودی اختصاصی برای هر محصول مپ شده - امکان فعال/غیرفعال کردن سینک موجودی برای هر محصول.
- تنظیم سراسری سینک موجودی با امکان لغو برای هر محصول.
- مپ کردن وضعیت قابل تنظیم برای انواع مختلف تحویل گیفتی کارت (فوری، دستی، ناموجود، حذف شده/در دسترس نیست).
- سیستم پردازش دسته‌ای برای مدیریت کارآمد کاتالوگ‌های بزرگ محصول (اندازه دسته قابل تنظیم).
- همگام‌سازی برنامه‌ریزی شده از طریق کران جاب‌های وردپرس (توصیه شده: 2-3 بار در روز).
- گزینه همگام‌سازی دستی برای به‌روزرسانی فوری.
- نمایش وضعیت لحظه‌ای که زمان اجرای بعدی، وضعیت همگام‌سازی فعلی و پیشرفت دسته را نشان می‌دهد.
- به‌روزرسانی خودکار وضعیت موجودی بر اساس تغییرات موجودی گیفتی کارت.
- پیگیری پیشرفت با نوار پیشرفت بصری برای وضعیت پردازش دسته‌ای.

### ثبت خودکار سفارش گیفت کارت

- هنگامی که مشتری سفارشی حاوی محصولات مپ شده ثبت می‌کند، افزونه به طور خودکار درخواست خرید را برای هر آیتم مپ شده به API گیفتی کارت ارسال می‌کند.
- افزونه پاسخ API را مدیریت کرده، جزئیات سفارش گیفتی کارت (شامل کدها) را در متای سفارش ووکامرس ذخیره کرده و یادداشت‌های سفارش را برای پیگیری اضافه می‌کند.

### اتوماسیون وضعیت سفارش

- افزونه وضعیت سفارشات گیفتی کارت را (از طریق API و webhook) نظارت می‌کند.
- اگر تمام آیتم‌های مپ شده با موفقیت تحویل داده شوند، وضعیت سفارش ووکامرس به طور خودکار به "تکمیل شده" تغییر می‌یابد.
- اگر هر آیتم مپ شده شکست بخورد، وضعیت سفارش می‌تواند به "ناموفق" تغییر یابد (قابل تنظیم).
- به‌روزرسانی وضعیت هم از طریق بررسی‌های برنامه‌ریزی شده (کران) و هم از طریق اعلان‌های لحظه‌ای webhook از گیفتی کارت مدیریت می‌شود.
- افزونه می‌تواند به طور خودکار وضعیت سفارش ووکامرس را در صورت نیاز به "لغو شده" تغییر دهد (لغو خودکار).

### نمایش گیفت کارت‌های خریداری شده

- کدهای گیفت کارت خریداری شده و اطلاعات مرتبط (سریال، کد کارت، لینک استفاده، تاریخ انقضا و غیره) به مشتری نمایش داده می‌شود:
  - در ایمیل تایید سفارش
  - در صفحه جزئیات سفارش در حساب کاربری
  - در صفحه "تشکر از پرداخت" پس از پرداخت
- نمایش پویا است و فقط برای آیتم‌هایی که به واریانت‌های گیفتی کارت مپ شده‌اند نشان داده می‌شود.

### همگام‌سازی و مدیریت ادمین

- مدیران می‌توانند دسته‌بندی‌ها، محصولات و واریانت‌ها را از API گیفتی کارت به وردپرس همگام‌سازی کنند تا مپ کردن و مدیریت آسان‌تر شود.
- ابزارهایی برای حذف دسته‌جمعی داده‌های افزونه و مدیریت دستی سفارشات وجود دارد.

### سازگاری

- کاملاً سازگار با HPOS (سیستم ذخیره سفارش با عملکرد بالا) و سیستم قدیمی ذخیره سفارش ووکامرس
- تست شده تا وردپرس ۶.۹
- تست شده تا ووکامرس ۱۰.۴.۳

## پیش‌نیازهای راه‌اندازی

- برای شروع استفاده از افزونه، باید `base_url`، `consumer_key` و `consumer_secret` خود را در تنظیمات افزونه وارد کنید.
- برای محیط اصلی، اطلاعات خود را از [gifticard.ir](https://gifticard.ir) دریافت کنید.
- همچنین می‌توانید توکن Sandbox برای تست و توسعه دریافت کنید.

## نصب

1. فایل‌های افزونه را در مسیر `/wp-content/plugins/gift-i-card` آپلود کنید یا افزونه را مستقیماً از طریق صفحه افزونه‌های وردپرس نصب کنید.
2. افزونه را از طریق صفحه «افزونه‌ها» در وردپرس فعال کنید.
3. از منوی گیفتی کارت برای پیکربندی افزونه استفاده کنید.
4. محصولات ووکامرس خود را به واریانت‌های گیفتی کارت مپ کنید.

## تغییرات

### ۱.۲.۹

- رفع مشکل اعمال حاشیه سود به قیمت فروش
- رفع مشکل شمارش سینک دستی در تنظیمات - اکنون به درستی محصولات ساده و متغیرها را می‌شمارد
- بهبود دقت آمار همگام‌سازی برای تعداد کل، موفق و ناموفق

### ۱.۲.۷

- اضافه کردن کنترل همگام‌سازی وضعیت موجودی برای محصولات مپ شده
- محصولات اکنون می‌توانند به طور جداگانه کنترل کنند که آیا وضعیت موجودی باید از API گیفتی کارت همگام‌سازی شود
- سینک موجودی می‌تواند برای هر محصول فعال/غیرفعال شود با تنظیم پیش‌فرض سراسری
- کنترل همگام‌سازی موجودی به صفحه نمایش واریانت‌ها برای هر محصول مپ شده اضافه شد
- مدیریت محصول پیشرفته با تغییر وضعیت سینک موجودی همراه با کنترل‌های سینک قیمت
- تنظیمات سینک موجودی می‌تواند به صورت سراسری در تنظیمات محصول پیکربندی شود با قابلیت لغو برای هر محصول

### ۱.۲.۶

- اضافه کردن ویژگی همگام‌سازی قیمت برای محصولات مپ شده
- محصولات اکنون می‌توانند به طور خودکار قیمت‌ها را از API گیفتی کارت بر اساس قیمت واریانت به علاوه حاشیه سود قابل تنظیم همگام‌سازی کنند
- تنظیمات حاشیه سود قابل پیکربندی (درصد یا مبلغ ثابت) در تنظیمات محصول
- کنترل سینک قیمت اختصاصی برای هر محصول/واریانت مپ شده
- سینک قیمت می‌تواند برای هر محصول با تنظیمات حاشیه سود سفارشی فعال/غیرفعال شود
- همگام‌سازی قیمت به طور خودکار در حین همگام‌سازی وضعیت محصول (کرون یا بازدید صفحه) اجرا می‌شود
- مدیریت محصول پیشرفته با نشانگرهای سینک قیمت در صفحه نمایش واریانت‌ها

### ۱.۲.۵

- اضافه کردن قابلیت ساخت محصولات ووکامرس مستقیماً از واریانت‌های گیفتی کارت
- ساخت محصولات ساده از واریانت‌های فردی با نام سفارشی، SKU، قیمت و وضعیت
- ساخت محصولات متغیر با چندین واریانت در یک عملیات
- جزئیات واریانت قابل تنظیم (نام، قیمت، SKU) در حین ایجاد محصول
- مپ خودکار محصولات ایجاد شده به واریانت‌های گیفتی کارت
- بهبود گردش کار ایجاد محصول با دیالوگ‌های مدال
- صفحه نمایش واریانت‌های پیشرفته با دکمه‌های ایجاد محصول

### ۱.۲.۴

- بروزرسانی سازگاری با وردپرس ۶.۹
- بروزرسانی سازگاری با ووکامرس ۱۰.۴.۳
- بهبود پایداری و قابلیت اطمینان افزونه با آخرین نسخه‌های وردپرس و ووکامرس

### ۱.۲.۳

- اضافه کردن سیستم پردازش دسته‌ای برای همگام‌سازی محصول برای مدیریت کارآمد کاتالوگ‌های بزرگ محصول
- تنظیم اندازه دسته قابل پیکربندی برای سینک محصول (پیش‌فرض: ۱۰ محصول در دسته)
- سیستم پیگیری پیشرفت برای پردازش دسته‌ای با نوار پیشرفت بصری در ادمین
- بهبود عملکرد برای فروشگاه‌هایی با محصولات زیاد از طریق پردازش در تکه‌های کوچکتر
- قابلیت اطمینان کرون جاب پیشرفته با پردازش دسته‌ای قابل ازسرگیری
- اضافه کردن نمایش وضعیت پردازش دسته‌ای در پنل تنظیمات کرون
- بهینه‌سازی فراخوانی‌های API از طریق گروه‌بندی محصولات در دسته‌ها به جای پردازش همه به یکباره

## لینک‌ها

- [گیفتی کارت](https://gifticard.ir)

## مجوز

این افزونه تحت مجوز GPLv2 یا بالاتر منتشر شده است. (فایل LICENSE را ببینید)
